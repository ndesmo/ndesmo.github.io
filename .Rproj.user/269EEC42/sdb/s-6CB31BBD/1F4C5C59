{
    "collab_server" : "",
    "contents" : "---\nlayout: post\ntitle: \"House prices: data exploration\"\ndate: 2017-10-04\ncategories: rblogging kaggle\ntags: test ggplot2\n---\n\n\nOverview\n--------\n\nIn this post I will be doing simple exploratory data analysis of the [Ames Housing dataset](https://ww2.amstat.org/publications/jse/v19n3/decock.pdf) used in the Kaggle competition [House Prices: Advanced Regression Techniques](https://www.kaggle.com/c/house-prices-advanced-regression-techniques). This is my first blog post here so it's also an exercise in creating blog posts!\n\n### Aims\n\nThe problem is to try to correctly predict the house prices in the test dataset by training a regression model on the training data. The dataset to be submitted to Kaggle will have the following form:\n\n|    Id|  SalePrice|\n|-----:|----------:|\n|  1461|   169277.1|\n|  1462|   187758.4|\n|  1463|   183583.7|\n|  1464|   179317.5|\n|  1465|   150730.1|\n|  1466|   177151.0|\n\nAnalysis\n--------\n\nHere I will provide a simple exploratory analysis of the training data. In subsequent posts, I will go into developing the model.\n\n### Columns\n\nHere are the columns available in the dataset:\n\n``` r\nnames(train)\n```\n\n    ##  [1] \"Id\"            \"MSSubClass\"    \"MSZoning\"      \"LotFrontage\"  \n    ##  [5] \"LotArea\"       \"Street\"        \"Alley\"         \"LotShape\"     \n    ##  [9] \"LandContour\"   \"Utilities\"     \"LotConfig\"     \"LandSlope\"    \n    ## [13] \"Neighborhood\"  \"Condition1\"    \"Condition2\"    \"BldgType\"     \n    ## [17] \"HouseStyle\"    \"OverallQual\"   \"OverallCond\"   \"YearBuilt\"    \n    ## [21] \"YearRemodAdd\"  \"RoofStyle\"     \"RoofMatl\"      \"Exterior1st\"  \n    ## [25] \"Exterior2nd\"   \"MasVnrType\"    \"MasVnrArea\"    \"ExterQual\"    \n    ## [29] \"ExterCond\"     \"Foundation\"    \"BsmtQual\"      \"BsmtCond\"     \n    ## [33] \"BsmtExposure\"  \"BsmtFinType1\"  \"BsmtFinSF1\"    \"BsmtFinType2\" \n    ## [37] \"BsmtFinSF2\"    \"BsmtUnfSF\"     \"TotalBsmtSF\"   \"Heating\"      \n    ## [41] \"HeatingQC\"     \"CentralAir\"    \"Electrical\"    \"X1stFlrSF\"    \n    ## [45] \"X2ndFlrSF\"     \"LowQualFinSF\"  \"GrLivArea\"     \"BsmtFullBath\" \n    ## [49] \"BsmtHalfBath\"  \"FullBath\"      \"HalfBath\"      \"BedroomAbvGr\" \n    ## [53] \"KitchenAbvGr\"  \"KitchenQual\"   \"TotRmsAbvGrd\"  \"Functional\"   \n    ## [57] \"Fireplaces\"    \"FireplaceQu\"   \"GarageType\"    \"GarageYrBlt\"  \n    ## [61] \"GarageFinish\"  \"GarageCars\"    \"GarageArea\"    \"GarageQual\"   \n    ## [65] \"GarageCond\"    \"PavedDrive\"    \"WoodDeckSF\"    \"OpenPorchSF\"  \n    ## [69] \"EnclosedPorch\" \"X3SsnPorch\"    \"ScreenPorch\"   \"PoolArea\"     \n    ## [73] \"PoolQC\"        \"Fence\"         \"MiscFeature\"   \"MiscVal\"      \n    ## [77] \"MoSold\"        \"YrSold\"        \"SaleType\"      \"SaleCondition\"\n    ## [81] \"SalePrice\"\n\nThe last column \"SalePrice\" is the one we will be measuring. There are 80 other features that we should try to make use of to predict SalePrice.\n\n### Distribution of house prices\n\nFirst things first, let's look at how the house prices are distributed.\n\n``` r\nsp <- train %>% select(SalePrice)\nggplot(sp, aes(SalePrice, fill='1')) + geom_histogram() + guides(fill=FALSE)\n```\n\n    ## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n![](explore_files/figure-markdown_github/house-prices-1.png)\n\nWe can see that the distribution is not normal. It has a positive skew.\n\n``` r\nsp %>% summarise(Skewness = skewness(SalePrice), Kurtosis = kurtosis(SalePrice))\n```\n\n    ##   Skewness Kurtosis\n    ## 1 1.880941 9.509812\n\n### Feature correlation\n\n``` r\ncorrdata <- train %>% select(which(sapply(.,is.numeric)))\nqplot(x=Var1, y=Var2, data=melt(cor(corrdata, use=\"p\")), fill=value, geom=\"tile\") +\n  scale_fill_gradient2(limits=c(-1, 1)) +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +\n  labs(x = 'Features', y = 'Features')\n```\n\n![](explore_files/figure-markdown_github/corr-heatmap-1.png)\n",
    "created" : 1491831197771.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4054204428",
    "id" : "1F4C5C59",
    "lastKnownWriteTime" : 1491831264,
    "last_content_update" : 1491831264952,
    "path" : "~/CAN/ndesmo.github.io/R/houseprices/explore.md",
    "project_path" : "R/houseprices/explore.md",
    "properties" : {
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "markdown"
}